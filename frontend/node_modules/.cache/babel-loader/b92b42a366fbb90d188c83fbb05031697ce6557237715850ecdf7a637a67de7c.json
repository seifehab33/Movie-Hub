{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\React-djangoproject\\\\frontend\\\\src\\\\components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"./Login.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nimport \"bootstrap/dist/js/bootstrap.min.js\";\nimport img1 from \"../image/icon.png\";\nimport swal from \"sweetalert\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login(_ref) {\n  _s();\n  let {\n    OnuserCreated\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = e => {\n    e.preventDefault();\n    axios.post(\"http://127.0.0.1:8000/api/users/login/\", {\n      email,\n      name,\n      password\n      // csrfmiddlewaretoken: getCookie(\"csrftoken\"),\n    }).then(response => {\n      const userData = {\n        name,\n        email,\n        password,\n        id: response.user.id\n      };\n      let users = JSON.parse(localStorage.getItem(\"user\")) || [];\n      if (!Array.isArray(users)) {\n        users = [];\n        console.log(\"Handled successful\");\n      }\n      users.push(userData);\n      localStorage.setItem(\"user\", JSON.stringify(users));\n      navigate(\"/\");\n    }).catch(error => {\n      setError(\"Invalid email or password.\");\n    });\n    const handleAlertClick = () => {\n      swal({\n        title: \"مــــعــــلــــــش هه\",\n        timer: 4000\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contain\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerr\",\n          children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img1,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"\",\n            onSubmit: handleLogin,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputs\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter your Name...\",\n                id: \"name\",\n                value: name,\n                name: \"name\",\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                placeholder: \"Enter your Email...\",\n                id: \"email\",\n                value: email,\n                name: \"email\",\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"Enter your password...\",\n                name: \"password\",\n                className: \"form-control\",\n                id: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"login\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"#\",\n                onClick: handleAlertClick,\n                children: \"Forget Password ?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n}\n_s(Login, \"wbyUJU3v+2feeaKmNBzWqR4m/q0=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","img1","swal","Link","useNavigate","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_ref","_s","OnuserCreated","email","setEmail","name","setName","password","setPassword","error","setError","navigate","handleLogin","e","preventDefault","post","then","response","userData","id","user","users","JSON","parse","localStorage","getItem","Array","isArray","console","log","push","setItem","stringify","catch","handleAlertClick","title","timer","children","className","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","action","onSubmit","type","placeholder","value","onChange","target","href","onClick","_c","$RefreshReg$"],"sources":["D:/Web Development/React-djangoproject/frontend/src/components/Login.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./Login.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"jquery/dist/jquery.min.js\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport img1 from \"../image/icon.png\";\r\nimport swal from \"sweetalert\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nfunction Login({ OnuserCreated }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"http://127.0.0.1:8000/api/users/login/\", {\r\n        email,\r\n        name,\r\n        password,\r\n        // csrfmiddlewaretoken: getCookie(\"csrftoken\"),\r\n      })\r\n      .then((response) => {\r\n        const userData = {\r\n          name,\r\n          email,\r\n          password,\r\n          id: response.user.id,\r\n        };\r\n        let users = JSON.parse(localStorage.getItem(\"user\")) || [];\r\n\r\n        if (!Array.isArray(users)) {\r\n          users = [];\r\n          console.log(\"Handled successful\");\r\n        }\r\n        users.push(userData);\r\n        localStorage.setItem(\"user\", JSON.stringify(users));\r\n        navigate(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setError(\"Invalid email or password.\");\r\n      });\r\n\r\n    const handleAlertClick = () => {\r\n      swal({\r\n        title: \"مــــعــــلــــــش هه\",\r\n        timer: 4000,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <div className=\"contain\">\r\n          <div className=\"containerr\">\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <img src={img1} alt=\"\" />\r\n            <form action=\"\" onSubmit={handleLogin}>\r\n              <div className=\"inputs\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter your Name...\"\r\n                  id=\"name\"\r\n                  value={name}\r\n                  name=\"name\"\r\n                  onChange={(e) => setName(e.target.value)}\r\n                />\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Enter your Email...\"\r\n                  id=\"email\"\r\n                  value={email}\r\n                  name=\"email\"\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Enter your password...\"\r\n                  name=\"password\"\r\n                  className=\"form-control\"\r\n                  id=\"password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"login\">\r\n                <button type=\"submit\" className=\"login\">\r\n                  Login\r\n                </button>\r\n                <Link href=\"#\" onClick={handleAlertClick}>\r\n                  Forget Password ?\r\n                </Link>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n}\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}