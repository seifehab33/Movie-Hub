{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\React-djangoproject\\\\frontend\\\\src\\\\components\\\\Comment.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./Comment.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Comment(_ref) {\n  _s();\n  let {\n    post,\n    createComment\n  } = _ref;\n  const [commentText, setCommentText] = useState(\"\");\n  const handleCommentSubmit = async event => {\n    event.preventDefault();\n    const userId = localStorage.getItem(\"user_id\");\n    const commentData = {\n      post: post.id,\n      author: userId,\n      text: commentText\n    };\n    try {\n      await createComment(userId, commentData);\n      setCommentText(\"\");\n      // Reload the page to display the new comment\n      window.location.reload();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), post.comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: comment.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)\n    }, comment.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCommentSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Comment:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: commentText,\n          onChange: event => setCommentText(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Post Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Comment, \"p4TF37JcSOEexXz8bq9p43U5U1Q=\");\n_c = Comment;\nexport default Comment;\nvar _c;\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Comment","_ref","_s","post","createComment","commentText","setCommentText","handleCommentSubmit","event","preventDefault","userId","localStorage","getItem","commentData","id","author","text","window","location","reload","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","comments","map","comment","onSubmit","value","onChange","target","type","_c","$RefreshReg$"],"sources":["D:/Web Development/React-djangoproject/frontend/src/components/Comment.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Comment.css\";\r\n\r\nfunction Comment({ post, createComment }) {\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  const handleCommentSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const userId = localStorage.getItem(\"user_id\");\r\n    const commentData = {\r\n      post: post.id,\r\n      author: userId,\r\n      text: commentText,\r\n    };\r\n    try {\r\n      await createComment(userId, commentData);\r\n      setCommentText(\"\");\r\n      // Reload the page to display the new comment\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      <h3>Comments</h3>\r\n      {post.comments.map((comment) => (\r\n        <div key={comment.id} className=\"comment\">\r\n          <p>{comment.text}</p>\r\n        </div>\r\n      ))}\r\n      <form onSubmit={handleCommentSubmit}>\r\n        <label>\r\n          Comment:\r\n          <textarea\r\n            value={commentText}\r\n            onChange={(event) => setCommentText(event.target.value)}\r\n          />\r\n        </label>\r\n        <button type=\"submit\">Post Comment</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comment;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,SAASC,OAAOA,CAAAC,IAAA,EAA0B;EAAAC,EAAA;EAAA,IAAzB;IAAEC,IAAI;IAAEC;EAAc,CAAC,GAAAH,IAAA;EACtC,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAMW,mBAAmB,GAAG,MAAOC,KAAK,IAAK;IAC3CA,KAAK,CAACC,cAAc,EAAE;IACtB,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAC9C,MAAMC,WAAW,GAAG;MAClBV,IAAI,EAAEA,IAAI,CAACW,EAAE;MACbC,MAAM,EAAEL,MAAM;MACdM,IAAI,EAAEX;IACR,CAAC;IACD,IAAI;MACF,MAAMD,aAAa,CAACM,MAAM,EAAEG,WAAW,CAAC;MACxCP,cAAc,CAAC,EAAE,CAAC;MAClB;MACAW,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACF,CAAC;EAED,oBACErB,OAAA;IAAKuB,SAAS,EAAC,UAAU;IAAAC,QAAA,gBACvBxB,OAAA;MAAAwB,QAAA,EAAI;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,EAChBxB,IAAI,CAACyB,QAAQ,CAACC,GAAG,CAAEC,OAAO,iBACzB/B,OAAA;MAAsBuB,SAAS,EAAC,SAAS;MAAAC,QAAA,eACvCxB,OAAA;QAAAwB,QAAA,EAAIO,OAAO,CAACd;MAAI;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAK,GADbG,OAAO,CAAChB,EAAE;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAGrB,CAAC,eACF5B,OAAA;MAAMgC,QAAQ,EAAExB,mBAAoB;MAAAgB,QAAA,gBAClCxB,OAAA;QAAAwB,QAAA,GAAO,UAEL,eAAAxB,OAAA;UACEiC,KAAK,EAAE3B,WAAY;UACnB4B,QAAQ,EAAGzB,KAAK,IAAKF,cAAc,CAACE,KAAK,CAAC0B,MAAM,CAACF,KAAK;QAAE;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACxD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACI,eACR5B,OAAA;QAAQoC,IAAI,EAAC,QAAQ;QAAAZ,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACtC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACH;AAEV;AAACzB,EAAA,CAzCQF,OAAO;AAAAoC,EAAA,GAAPpC,OAAO;AA2ChB,eAAeA,OAAO;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}